<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regina's Dashboard - Kroatisch KOMPLETT üá≠üá∑</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .quote-box {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #9b59b6;
            font-style: italic;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin: 5px 0;
        }
        
        .btn:hover {
            transform: scale(1.02);
        }
        
        .btn-small {
            padding: 10px 15px;
            font-size: 0.9em;
        }
        
        .situation-btn {
            background: linear-gradient(135deg, #9b59b6 0%, #764ba2 100%);
            color: white;
        }
        
        .game-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        .dialog-area {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .dialog-line {
            background: white;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 4px solid #9b59b6;
        }
        
        .german {
            color: #333;
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .croatian {
            color: #9b59b6;
            font-weight: bold;
        }
        
        /* Memory Game */
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            padding: 10px;
            text-align: center;
            font-size: 0.9em;
        }
        
        .memory-card:hover {
            transform: scale(1.05);
        }
        
        .memory-card.flipped {
            background: white;
            color: #667eea;
            border: 3px solid #667eea;
        }
        
        .memory-card.matched {
            background: #43e97b;
            color: white;
            cursor: default;
        }
        
        /* Roulette Wheel */
        .roulette-wheel {
            width: 300px;
            height: 300px;
            margin: 20px auto;
            border-radius: 50%;
            border: 10px solid #667eea;
            position: relative;
            background: conic-gradient(
                #f093fb 0deg 90deg,
                #f5576c 90deg 180deg,
                #667eea 180deg 270deg,
                #764ba2 270deg 360deg
            );
            transition: transform 2s cubic-bezier(0.17, 0.67, 0.12, 0.99);
        }
        
        .roulette-pointer {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 30px solid #e74c3c;
        }
        
        .roulette-result {
            text-align: center;
            margin: 20px 0;
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            min-height: 60px;
        }
        
        /* Horror Quiz */
        .horror-question {
            background: linear-gradient(135deg, #434343 0%, #000000 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .horror-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .horror-btn {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .horror-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(155, 89, 182, 0.5);
        }
        
        .horror-btn.correct {
            background: #43e97b;
            animation: pulse 0.5s;
        }
        
        .horror-btn.wrong {
            background: #e74c3c;
            animation: shake 0.5s;
        }
        
        .horror-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Slot Machine */
        .slot-machine {
            background: linear-gradient(135deg, #f39c12 0%, #f1c40f 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .slots {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .slot {
            width: 120px;
            height: 150px;
            background: white;
            border: 5px solid #333;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            font-weight: bold;
            color: #333;
            overflow: hidden;
        }
        
        .slot-result {
            text-align: center;
            margin: 20px 0;
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            min-height: 60px;
        }
        
        .game-stats {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        
        .feedback-box {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
        }
        
        .feedback-correct {
            background: #43e97b;
            color: white;
        }
        
        .feedback-wrong {
            background: #e74c3c;
            color: white;
        }
        
        .example-sentence {
            margin-top: 10px;
            font-size: 0.9em;
            font-style: italic;
            opacity: 0.9;
        }
        
        .achievement {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            display: none;
            animation: slideIn 0.5s ease;
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            max-width: 300px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @media (max-width: 768px) {
            .memory-game {
                grid-template-columns: repeat(2, 1fr);
            }
            .roulette-wheel {
                width: 250px;
                height: 250px;
            }
            .horror-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üá≠üá∑ Kroatisch Lern-Casino</h1>
            <p style="font-size: 1.2em; margin-top: 10px;">Situationen + 4 Grammatik-Spiele!</p>
        </div>
        
        <div class="quote-box">
            "Uƒçenje je igra! Nema straha!" (Lernen ist ein Spiel! Keine Angst!)
        </div>
        
        <div class="main-grid">
            <!-- Navigation -->
            <div class="card">
                <h2>üéÆ Was willst du √ºben?</h2>
                
                <button class="btn situation-btn" onclick="showSection('situations')">
                    üó£Ô∏è Alltagssituationen
                </button>
                <button class="btn game-btn" onclick="showSection('games')">
                    üéØ Grammatik-Spiele
                </button>
            </div>
            
            <!-- Situationen -->
            <div class="card" id="situationsCard" style="grid-column: span 2; display: none;">
                <h2>üó£Ô∏è Alltagssituationen</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                    <button class="btn situation-btn btn-small" onclick="showSituation('postbote')">
                        üì¨ Postbote-Drama
                    </button>
                    <button class="btn situation-btn btn-small" onclick="showSituation('tochter')">
                        üë®‚Äçüëß Sind Sie die Tochter?
                    </button>
                    <button class="btn situation-btn btn-small" onclick="showSituation('handwerker')">
                        üî® Handwerker
                    </button>
                    <button class="btn situation-btn btn-small" onclick="showSituation('wohnung')">
                        üè† Wer wohnt hier?
                    </button>
                </div>
                
                <div id="situationDisplay" style="margin-top: 20px;"></div>
            </div>
            
            <!-- Games Menu -->
            <div class="card" id="gamesCard" style="grid-column: span 2; display: none;">
                <h2>üéÆ W√§hle dein Spiel!</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px;">
                    <button class="btn game-btn" onclick="showGame('verbpaare')">
                        üéØ Verbpaare-Memory
                    </button>
                    <button class="btn game-btn" onclick="showGame('pronomen')">
                        üé∞ Pronomen-Roulette
                    </button>
                    <button class="btn game-btn" onclick="showGame('praepositionen')">
                        üëª Pr√§positionen-Horror
                    </button>
                    <button class="btn game-btn" onclick="showGame('endungen')">
                        üé∞ Endungen-Slot
                    </button>
                    <button class="btn game-btn" onclick="showGame('adjektive')" style="background: linear-gradient(135deg, #FF416C 0%, #FF4B2B 100%);">
                        üî• Adjektiv-Inferno
                    </button>
                </div>
            </div>
            
            <!-- Memory Game -->
            <div class="card" style="grid-column: 1 / -1; display: none;" id="verbpaareGame">
                <h2>üéØ Verbpaare-Memory</h2>
                <div class="game-stats">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div>
                            <div class="stat-number" id="memoryMoves">0</div>
                            <div>Z√ºge</div>
                        </div>
                        <div>
                            <div class="stat-number" id="memoryMatches">0</div>
                            <div>Paare</div>
                        </div>
                        <div>
                            <div class="stat-number" id="memoryTimer">00:00</div>
                            <div>Zeit</div>
                        </div>
                    </div>
                </div>
                <div class="memory-game" id="memoryGrid"></div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-small" style="background: #43e97b; color: white; display: inline-block; width: auto; padding: 10px 30px;" onclick="resetMemoryGame()">
                        üîÑ Neu
                    </button>
                    <button class="btn btn-small" style="background: #e74c3c; color: white; display: inline-block; width: auto; padding: 10px 30px; margin-left: 10px;" onclick="closeAllGames()">
                        ‚Üê Zur√ºck
                    </button>
                </div>
            </div>
            
            <!-- Pronomen Roulette -->
            <div class="card" style="grid-column: 1 / -1; display: none;" id="pronomenGame">
                <h2>üé∞ Pronomen-Roulette</h2>
                <p style="text-align: center; color: #666; margin-bottom: 20px;">
                    Drehe das Rad und w√§hle die richtige Kasus-Form!
                </p>
                
                <div class="game-stats">
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                        <div>
                            <div class="stat-number" id="rouletteScore">0</div>
                            <div>Punkte</div>
                        </div>
                        <div>
                            <div class="stat-number" id="rouletteStreak">0</div>
                            <div>Streak</div>
                        </div>
                    </div>
                </div>
                
                <div style="position: relative; text-align: center;">
                    <div class="roulette-pointer"></div>
                    <div class="roulette-wheel" id="rouletteWheel"></div>
                </div>
                
                <div class="roulette-result" id="rouletteResult">Dr√ºcke SPIN!</div>
                
                <div id="rouletteOptions" style="display: none; margin-top: 20px;">
                    <p style="text-align: center; font-weight: bold; margin-bottom: 15px;">
                        W√§hle die richtige Form:
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;" id="rouletteButtons"></div>
                </div>
                
                <div id="rouletteFeedback" style="display: none;"></div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-small" id="rouletteSpinBtn" style="background: #667eea; color: white; display: inline-block; width: auto; padding: 15px 40px; font-size: 1.2em;" onclick="spinRoulette()">
                        üé∞ SPIN!
                    </button>
                    <button class="btn btn-small" style="background: #e74c3c; color: white; display: inline-block; width: auto; padding: 10px 30px; margin-left: 10px;" onclick="closeAllGames()">
                        ‚Üê Zur√ºck
                    </button>
                </div>
            </div>
            
            <!-- Pr√§positionen Horror -->
            <div class="card" style="grid-column: 1 / -1; display: none;" id="prapositionenGame">
                <h2>üëª Pr√§positionen-Horror</h2>
                <p style="text-align: center; color: #666; margin-bottom: 20px;">
                    Welcher Kasus kommt nach dieser Pr√§position? Pass auf! üíÄ
                </p>
                
                <div class="game-stats">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div>
                            <div class="stat-number" id="horrorScore">0</div>
                            <div>Richtig</div>
                        </div>
                        <div>
                            <div class="stat-number" id="horrorWrong">0</div>
                            <div>Falsch</div>
                        </div>
                        <div>
                            <div class="stat-number" id="horrorStreak">0</div>
                            <div>Streak</div>
                        </div>
                    </div>
                </div>
                
                <div class="horror-question" id="horrorQuestion">???</div>
                
                <div class="horror-options" id="horrorOptions"></div>
                
                <div id="horrorFeedback" style="display: none;"></div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-small" id="horrorNextBtn" style="background: #43e97b; color: white; display: inline-block; width: auto; padding: 10px 30px; display: none;" onclick="nextHorrorQuestion()">
                        ‚ñ∂ N√§chste
                    </button>
                    <button class="btn btn-small" style="background: #e74c3c; color: white; display: inline-block; width: auto; padding: 10px 30px; margin-left: 10px;" onclick="closeAllGames()">
                        ‚Üê Zur√ºck
                    </button>
                </div>
            </div>
            
            <!-- Endungen Slot -->
            <div class="card" style="grid-column: 1 / -1; display: none;" id="endungenGame">
                <h2>üé∞ Endungen-Slot-Machine</h2>
                <p style="text-align: center; color: #666; margin-bottom: 20px;">
                    Genus + Kasus + Zahl = Welche Endung? üé≤
                </p>
                
                <div class="game-stats">
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                        <div>
                            <div class="stat-number" id="slotScore">0</div>
                            <div>Punkte</div>
                        </div>
                        <div>
                            <div class="stat-number" id="slotStreak">0</div>
                            <div>Streak</div>
                        </div>
                    </div>
                </div>
                
                <div class="slot-machine">
                    <div class="slots">
                        <div class="slot" id="slot1">?</div>
                        <div class="slot" id="slot2">?</div>
                        <div class="slot" id="slot3">?</div>
                    </div>
                    
                    <div style="text-align: center; margin: 20px 0;">
                        <button class="btn" id="slotSpinBtn" style="background: #e74c3c; color: white; display: inline-block; width: auto; padding: 20px 50px; font-size: 1.3em;" onclick="spinSlots()">
                            üé∞ SPIN!
                        </button>
                    </div>
                    
                    <div class="slot-result" id="slotResult">Dr√ºcke SPIN!</div>
                </div>
                
                <div id="slotOptions" style="display: none; margin-top: 20px; background: white; padding: 20px; border-radius: 10px;">
                    <p style="text-align: center; font-weight: bold; margin-bottom: 15px; color: #333;">
                        Welche Endung ist richtig?
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px;" id="slotButtons"></div>
                </div>
                
                <div id="slotFeedback" style="display: none;"></div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-small" style="background: #e74c3c; color: white; display: inline-block; width: auto; padding: 10px 30px;" onclick="closeAllGames()">
                        ‚Üê Zur√ºck
                    </button>
                </div>
            </div>
            
            <!-- Adjektiv Inferno -->
            <div class="card" style="grid-column: 1 / -1; display: none;" id="adjektiveGame">
                <h2>üî• Adjektiv-Endungen-Inferno üî•</h2>
                <p style="text-align: center; color: #666; margin-bottom: 20px;">
                    Das h√§rteste Spiel! Adjektive deklinieren wie ein Profi! üíÄ
                </p>
                
                <div class="game-stats">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div>
                            <div class="stat-number" id="adjektivScore">0</div>
                            <div>Richtig</div>
                        </div>
                        <div>
                            <div class="stat-number" id="adjektivWrong">0</div>
                            <div>Falsch</div>
                        </div>
                        <div>
                            <div class="stat-number" id="adjektivStreak">0</div>
                            <div>Streak üî•</div>
                        </div>
                    </div>
                </div>
                
                <div style="background: linear-gradient(135deg, #FF416C 0%, #FF4B2B 100%); padding: 30px; border-radius: 15px; margin: 20px 0;">
                    <div style="text-align: center; color: white; font-size: 1.8em; font-weight: bold; margin-bottom: 20px;" id="adjektivQuestion">
                        ???
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px; text-align: center; color: white; font-size: 1.2em; margin: 15px 0;" id="adjektivContext">
                        Warte auf Frage...
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin-top: 20px;" id="adjektivOptions">
                    </div>
                </div>
                
                <div id="adjektivFeedback" style="display: none;"></div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-small" id="adjektivNextBtn" style="background: #43e97b; color: white; display: inline-block; width: auto; padding: 10px 30px; display: none;" onclick="nextAdjektivQuestion()">
                        üî• N√§chste H√∂lle
                    </button>
                    <button class="btn btn-small" style="background: #666; color: white; display: inline-block; width: auto; padding: 10px 30px; margin-left: 10px;" onclick="closeAllGames()">
                        ‚Üê Zur√ºck
                    </button>
                </div>
            </div>
        </div>
        
        <div class="achievement" id="achievement"></div>
    </div>
    
    <script>
        // Situationen
        const situations = {
            postbote: {
                title: 'üì¨ Postbote-Drama',
                dialogs: [
                    { de: 'Guten Tag! Ist das Duge njive 14b?', hr: 'Dobar dan! Je li ovo Duge njive 14b?' },
                    { de: 'Nein, das ist 14. Die anderen haben a, b, c...', hr: 'Ne, ovo je 14. Druge imaju a, b, c...' },
                    { de: 'Wissen Sie wo 14b ist?', hr: 'Znate li gdje je 14b?' },
                    { de: 'Das neue Haus dort hinten.', hr: 'Nova kuƒáa tamo iza.' },
                    { de: 'Vielen Dank!', hr: 'Hvala lijepo!' }
                ]
            },
            tochter: {
                title: 'üë®‚Äçüëß Sind Sie die Tochter?',
                dialogs: [
                    { de: 'Sind Sie die Tochter von Herrn Laska?', hr: 'Jeste li vi kƒái gospodina Laske?' },
                    { de: 'Ja, das bin ich.', hr: 'Da, to sam ja.' },
                    { de: 'Ist Ihr Vater zu Hause?', hr: 'Je li va≈° otac kod kuƒáe?' },
                    { de: 'Ja, einen Moment. Ich hole ihn.', hr: 'Da, trenutak. Dovest ƒáu ga.' }
                ]
            },
            handwerker: {
                title: 'üî® Handwerker',
                dialogs: [
                    { de: 'Ich komme wegen der Reparatur.', hr: 'Dolazim zbog popravka.' },
                    { de: 'Kommen Sie herein!', hr: 'Uƒëite!' },
                    { de: 'Die Heizung funktioniert nicht.', hr: 'Grijanje ne radi.' },
                    { de: 'Wie lange dauert das?', hr: 'Koliko to traje?' },
                    { de: 'Etwa eine Stunde.', hr: 'Otprilike sat vremena.' },
                    { de: 'M√∂chten Sie einen Kaffee?', hr: '≈Ωelite li kavu?' }
                ]
            },
            wohnung: {
                title: 'üè† Wer wohnt hier?',
                dialogs: [
                    { de: 'Wer wohnt in diesem Haus?', hr: 'Tko ≈æivi u ovoj kuƒái?' },
                    { de: 'Mein Vater und ich.', hr: 'Moj otac i ja.' },
                    { de: 'Ich suche Familie Horvat.', hr: 'Tra≈æim obitelj Horvat.' },
                    { de: 'Die wohnen nebenan.', hr: 'Oni ≈æive pokraj.' }
                ]
            }
        };
        
        // Verbpaare
        const verbPairs = [
            { imperfektiv: 'uƒçiti', perfektiv: 'nauƒçiti', bedeutung: 'lernen' },
            { imperfektiv: 'pisati', perfektiv: 'napisati', bedeutung: 'schreiben' },
            { imperfektiv: 'ƒçitati', perfektiv: 'proƒçitati', bedeutung: 'lesen' },
            { imperfektiv: 'raditi', perfektiv: 'napraviti', bedeutung: 'machen' },
            { imperfektiv: 'govoriti', perfektiv: 'reƒái', bedeutung: 'sagen' },
            { imperfektiv: 'kupovati', perfektiv: 'kupiti', bedeutung: 'kaufen' }
        ];
        
        // Pronomen Daten mit Beispiels√§tzen
        const pronomenData = {
            ja: { 
                nom: { form: 'ja', satz: 'Ja idem. (Ich gehe.)' },
                gen: { form: 'mene/me', satz: 'Nema me. (Ich bin nicht da.)' },
                dat: { form: 'meni/mi', satz: 'To mi se sviƒëa. (Das gef√§llt mir.)' },
                akk: { form: 'mene/me', satz: 'Vidi≈° me? (Siehst du mich?)' },
                lok: { form: 'meni', satz: 'Govore o meni. (Sie reden √ºber mich.)' },
                ins: { form: 'mnom', satz: 'Idite sa mnom! (Geht mit mir!)' }
            },
            ti: { 
                nom: { form: 'ti', satz: 'Ti si tu. (Du bist hier.)' },
                gen: { form: 'tebe/te', satz: 'Nema te. (Du bist nicht da.)' },
                dat: { form: 'tebi/ti', satz: 'Dajem ti to. (Ich gebe dir das.)' },
                akk: { form: 'tebe/te', satz: 'ƒåujem te. (Ich h√∂re dich.)' },
                lok: { form: 'tebi', satz: 'Mislim o tebi. (Ich denke an dich.)' },
                ins: { form: 'tobom', satz: 'S tobom idem. (Mit dir gehe ich.)' }
            },
            on: { 
                nom: { form: 'on', satz: 'On dolazi. (Er kommt.)' },
                gen: { form: 'njega/ga', satz: 'Nema ga. (Er ist nicht da.)' },
                dat: { form: 'njemu/mu', satz: 'Dajem mu knjigu. (Ich gebe ihm ein Buch.)' },
                akk: { form: 'njega/ga', satz: 'Vidim ga. (Ich sehe ihn.)' },
                lok: { form: 'njemu', satz: 'Govorim o njemu. (Ich rede √ºber ihn.)' },
                ins: { form: 'njim', satz: 'Idem s njim. (Ich gehe mit ihm.)' }
            },
            ona: { 
                nom: { form: 'ona', satz: 'Ona pjeva. (Sie singt.)' },
                gen: { form: 'nje/je', satz: 'Nema je. (Sie ist nicht da.)' },
                dat: { form: 'njoj/joj', satz: 'Pi≈°em joj. (Ich schreibe ihr.)' },
                akk: { form: 'nju/je', satz: 'Zovem je. (Ich rufe sie.)' },
                lok: { form: 'njoj', satz: 'Mislim o njoj. (Ich denke an sie.)' },
                ins: { form: 'njom', satz: 'Razgovaram s njom. (Ich spreche mit ihr.)' }
            }
        };
        
        // Pr√§positionen mit Beispiels√§tzen
        const praepositionen = [
            { prep: 's/sa', kasus: 'Instrumental', beispiel: 's prijateljem', satz: 'Idem s prijateljem u kino. (Ich gehe mit dem Freund ins Kino.)' },
            { prep: 'iz', kasus: 'Genitiv', beispiel: 'iz kuƒáe', satz: 'Izlazim iz kuƒáe. (Ich komme aus dem Haus.)' },
            { prep: 'u', kasus: 'Akkusativ/Lokativ', beispiel: 'u kuƒáu/u kuƒái', satz: 'Idem u kuƒáu. / Ja sam u kuƒái. (Ich gehe ins Haus. / Ich bin im Haus.)' },
            { prep: 'na', kasus: 'Akkusativ/Lokativ', beispiel: 'na stol/na stolu', satz: 'Stavljam knjigu na stol. (Ich lege das Buch auf den Tisch.)' },
            { prep: 'o', kasus: 'Lokativ', beispiel: 'o tebi', satz: 'Razgovaramo o tebi. (Wir reden √ºber dich.)' },
            { prep: 'za', kasus: 'Akkusativ', beispiel: 'za tebe', satz: 'To je za tebe. (Das ist f√ºr dich.)' },
            { prep: 'od', kasus: 'Genitiv', beispiel: 'od kuƒáe', satz: 'Dolazim od kuƒáe. (Ich komme vom Haus.)' },
            { prep: 'do', kasus: 'Genitiv', beispiel: 'do ≈°kole', satz: 'Idem do ≈°kole. (Ich gehe bis zur Schule.)' },
            { prep: 'k/ka', kasus: 'Dativ', beispiel: 'k prijatelju', satz: 'Idem k prijatelju. (Ich gehe zum Freund.)' },
            { prep: 'bez', kasus: 'Genitiv', beispiel: 'bez tebe', satz: 'Ne mogu bez tebe. (Ich kann nicht ohne dich.)' }
        ];
        
        // Endungen System mit Beispielen
        const endungenData = {
            'Maskulin-Nominativ-Singular': { endung: '-√ò', beispiel: 'grad (Stadt), stol (Tisch)' },
            'Maskulin-Genitiv-Singular': { endung: '-a', beispiel: 'grada, stola' },
            'Maskulin-Akkusativ-Singular': { endung: '-a/-√ò', beispiel: 'prijatelja (belebt), grad (unbelebt)' },
            'Feminin-Nominativ-Singular': { endung: '-a', beispiel: 'kuƒáa (Haus), ≈æena (Frau)' },
            'Feminin-Genitiv-Singular': { endung: '-e', beispiel: 'kuƒáe, ≈æene' },
            'Neutrum-Nominativ-Singular': { endung: '-o/-e', beispiel: 'selo (Dorf), more (Meer)' },
            'Maskulin-Nominativ-Plural': { endung: '-i', beispiel: 'gradovi (St√§dte), stolovi (Tische)' },
            'Feminin-Nominativ-Plural': { endung: '-e', beispiel: 'kuƒáe, ≈æene' },
            'Neutrum-Nominativ-Plural': { endung: '-a', beispiel: 'sela (D√∂rfer), mora (Meere)' }
        };
        
        // Game Variables
        let memoryCards = [], flippedCards = [], matchedPairs = 0, moves = 0, gameTimer = 0, timerInterval = null;
        let rouletteScore = 0, rouletteStreak = 0, currentPronomen = null, currentKasus = null;
        let horrorScore = 0, horrorWrong = 0, horrorStreak = 0, currentHorrorQ = null;
        let slotScore = 0, slotStreak = 0, currentSlotCombo = null;
        let adjektivScore = 0, adjektivWrong = 0, adjektivStreak = 0, currentAdjektivQ = null;
        
        // Adjektiv-Endungen Datenbank (BESTIMMTE Form = mit Artikel)
        const adjektivEndungen = {
            // MASKULIN
            'Maskulin-Nominativ-Singular': { 
                endung: '-i', 
                stamm: 'nov',
                beispiel: 'novi grad',
                satz: 'Vidim novi grad. (Ich sehe die neue Stadt.)'
            },
            'Maskulin-Genitiv-Singular': { 
                endung: '-og/-oga', 
                stamm: 'nov',
                beispiel: 'novog grada / novoga grada',
                satz: 'Iz novog grada dolazim. (Aus der neuen Stadt komme ich.)'
            },
            'Maskulin-Dativ-Singular': { 
                endung: '-om/-ome', 
                stamm: 'nov',
                beispiel: 'novom gradu / novome gradu',
                satz: 'Idem k novom gradu. (Ich gehe zur neuen Stadt.)'
            },
            'Maskulin-Akkusativ-Singular-belebt': { 
                endung: '-og/-oga', 
                stamm: 'nov',
                beispiel: 'novog prijatelja',
                satz: 'Vidim novog prijatelja. (Ich sehe den neuen Freund.)'
            },
            'Maskulin-Akkusativ-Singular-unbelebt': { 
                endung: '-i', 
                stamm: 'nov',
                beispiel: 'novi grad',
                satz: 'Vidim novi grad. (Ich sehe die neue Stadt.)'
            },
            'Maskulin-Lokativ-Singular': { 
                endung: '-om/-ome', 
                stamm: 'nov',
                beispiel: 'o novom gradu',
                satz: 'Govorim o novom gradu. (Ich rede √ºber die neue Stadt.)'
            },
            'Maskulin-Instrumental-Singular': { 
                endung: '-im', 
                stamm: 'nov',
                beispiel: 'novim gradom',
                satz: 'Idem novim gradom. (Ich gehe durch die neue Stadt.)'
            },
            
            // FEMININ
            'Feminin-Nominativ-Singular': { 
                endung: '-a', 
                stamm: 'nov',
                beispiel: 'nova kuƒáa',
                satz: 'To je nova kuƒáa. (Das ist das neue Haus.)'
            },
            'Feminin-Genitiv-Singular': { 
                endung: '-e', 
                stamm: 'nov',
                beispiel: 'nove kuƒáe',
                satz: 'Iz nove kuƒáe dolazim. (Aus dem neuen Haus komme ich.)'
            },
            'Feminin-Dativ-Singular': { 
                endung: '-oj', 
                stamm: 'nov',
                beispiel: 'novoj kuƒái',
                satz: 'Idem k novoj kuƒái. (Ich gehe zum neuen Haus.)'
            },
            'Feminin-Akkusativ-Singular': { 
                endung: '-u', 
                stamm: 'nov',
                beispiel: 'novu kuƒáu',
                satz: 'Vidim novu kuƒáu. (Ich sehe das neue Haus.)'
            },
            'Feminin-Lokativ-Singular': { 
                endung: '-oj', 
                stamm: 'nov',
                beispiel: 'o novoj kuƒái',
                satz: 'Govorim o novoj kuƒái. (Ich rede √ºber das neue Haus.)'
            },
            'Feminin-Instrumental-Singular': { 
                endung: '-om', 
                stamm: 'nov',
                beispiel: 'novom kuƒáom',
                satz: 'Prolazim novom kuƒáom. (Ich gehe am neuen Haus vorbei.)'
            },
            
            // NEUTRUM
            'Neutrum-Nominativ-Singular': { 
                endung: '-o', 
                stamm: 'nov',
                beispiel: 'novo selo',
                satz: 'To je novo selo. (Das ist das neue Dorf.)'
            },
            'Neutrum-Genitiv-Singular': { 
                endung: '-og/-oga', 
                stamm: 'nov',
                beispiel: 'novog sela / novoga sela',
                satz: 'Iz novog sela dolazim. (Aus dem neuen Dorf komme ich.)'
            },
            'Neutrum-Dativ-Singular': { 
                endung: '-om/-ome', 
                stamm: 'nov',
                beispiel: 'novom selu',
                satz: 'Idem k novom selu. (Ich gehe zum neuen Dorf.)'
            },
            'Neutrum-Akkusativ-Singular': { 
                endung: '-o', 
                stamm: 'nov',
                beispiel: 'novo selo',
                satz: 'Vidim novo selo. (Ich sehe das neue Dorf.)'
            },
            'Neutrum-Lokativ-Singular': { 
                endung: '-om/-ome', 
                stamm: 'nov',
                beispiel: 'o novom selu',
                satz: 'Govorim o novom selu. (Ich rede √ºber das neue Dorf.)'
            },
            'Neutrum-Instrumental-Singular': { 
                endung: '-im', 
                stamm: 'nov',
                beispiel: 'novim selom',
                satz: 'Prolazim novim selom. (Ich gehe durchs neue Dorf.)'
            },
            
            // PLURAL (f√ºr alle Genera)
            'Plural-Nominativ': { 
                endung: '-i/-e', 
                stamm: 'nov',
                beispiel: 'novi gradovi, nove kuƒáe, nova sela',
                satz: 'To su novi gradovi. (Das sind die neuen St√§dte.)'
            },
            'Plural-Genitiv': { 
                endung: '-ih', 
                stamm: 'nov',
                beispiel: 'novih gradova',
                satz: 'Iz novih gradova dolaze. (Aus den neuen St√§dten kommen sie.)'
            },
            'Plural-Dativ': { 
                endung: '-im', 
                stamm: 'nov',
                beispiel: 'novim gradovima',
                satz: 'Idem k novim gradovima. (Ich gehe zu den neuen St√§dten.)'
            },
            'Plural-Akkusativ': { 
                endung: '-e', 
                stamm: 'nov',
                beispiel: 'nove gradove',
                satz: 'Vidim nove gradove. (Ich sehe die neuen St√§dte.)'
            },
            'Plural-Lokativ': { 
                endung: '-im', 
                stamm: 'nov',
                beispiel: 'o novim gradovima',
                satz: 'Govorim o novim gradovima. (Ich rede √ºber die neuen St√§dte.)'
            },
            'Plural-Instrumental': { 
                endung: '-im', 
                stamm: 'nov',
                beispiel: 'novim gradovima',
                satz: 'Idem novim gradovima. (Ich gehe durch die neuen St√§dte.)'
            }
        };
        
        // Navigation
        function showSection(section) {
            document.getElementById('situationsCard').style.display = section === 'situations' ? 'block' : 'none';
            document.getElementById('gamesCard').style.display = section === 'games' ? 'block' : 'none';
            closeAllGames();
        }
        
        function showSituation(id) {
            const situation = situations[id];
            const html = `
                <h3 style="color: #9b59b6; margin: 20px 0;">${situation.title}</h3>
                <div class="dialog-area">
                    ${situation.dialogs.map(line => `
                        <div class="dialog-line">
                            <div class="german">${line.de}</div>
                            <div class="croatian">${line.hr}</div>
                        </div>
                    `).join('')}
                </div>
            `;
            document.getElementById('situationDisplay').innerHTML = html;
            showAchievement('Dialog geladen! üó£Ô∏è');
        }
        
        function showGame(game) {
            closeAllGames();
            if (game === 'verbpaare') {
                document.getElementById('verbpaareGame').style.display = 'block';
                resetMemoryGame();
            } else if (game === 'pronomen') {
                document.getElementById('pronomenGame').style.display = 'block';
                resetRouletteGame();
            } else if (game === 'praepositionen') {
                document.getElementById('prapositionenGame').style.display = 'block';
                resetHorrorGame();
            } else if (game === 'endungen') {
                document.getElementById('endungenGame').style.display = 'block';
                resetSlotGame();
            } else if (game === 'adjektive') {
                document.getElementById('adjektiveGame').style.display = 'block';
                resetAdjektivGame();
            }
        }
        
        function closeAllGames() {
            document.getElementById('verbpaareGame').style.display = 'none';
            document.getElementById('pronomenGame').style.display = 'none';
            document.getElementById('prapositionenGame').style.display = 'none';
            document.getElementById('endungenGame').style.display = 'none';
            document.getElementById('adjektiveGame').style.display = 'none';
            if (timerInterval) clearInterval(timerInterval);
        }
        
        // Memory Game
        function resetMemoryGame() {
            matchedPairs = 0;
            moves = 0;
            gameTimer = 0;
            flippedCards = [];
            
            document.getElementById('memoryMoves').textContent = '0';
            document.getElementById('memoryMatches').textContent = '0';
            document.getElementById('memoryTimer').textContent = '00:00';
            
            memoryCards = [];
            verbPairs.forEach(pair => {
                memoryCards.push({ text: pair.imperfektiv, type: 'imperf', pair: pair.perfektiv, bedeutung: pair.bedeutung });
                memoryCards.push({ text: pair.perfektiv, type: 'perf', pair: pair.imperfektiv, bedeutung: pair.bedeutung });
            });
            
            memoryCards.sort(() => Math.random() - 0.5);
            
            const grid = document.getElementById('memoryGrid');
            grid.innerHTML = memoryCards.map((card, index) => `
                <div class="memory-card" data-index="${index}" onclick="flipCard(${index})">?</div>
            `).join('');
            
            if (timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                gameTimer++;
                const mins = Math.floor(gameTimer / 60);
                const secs = gameTimer % 60;
                document.getElementById('memoryTimer').textContent = 
                    `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        function flipCard(index) {
            const cardEl = document.querySelector(`[data-index="${index}"]`);
            const card = memoryCards[index];
            
            if (cardEl.classList.contains('matched') || cardEl.classList.contains('flipped') || flippedCards.length >= 2) return;
            
            cardEl.classList.add('flipped');
            cardEl.innerHTML = `<div style="font-size: 0.85em;"><strong>${card.text}</strong><br><small>${card.type}</small><br><small>(${card.bedeutung})</small></div>`;
            
            flippedCards.push({ index, card });
            
            if (flippedCards.length === 2) {
                moves++;
                document.getElementById('memoryMoves').textContent = moves;
                setTimeout(checkMatch, 1000);
            }
        }
        
        function checkMatch() {
            const [first, second] = flippedCards;
            
            if (first.card.pair === second.card.text) {
                const el1 = document.querySelector(`[data-index="${first.index}"]`);
                const el2 = document.querySelector(`[data-index="${second.index}"]`);
                el1.classList.add('matched');
                el2.classList.add('matched');
                
                matchedPairs++;
                document.getElementById('memoryMatches').textContent = matchedPairs;
                showAchievement('Paar gefunden! üéâ');
                
                if (matchedPairs === verbPairs.length) {
                    clearInterval(timerInterval);
                    setTimeout(() => showAchievement(`üèÜ GEWONNEN! ${moves} Z√ºge in ${gameTimer}s!`), 500);
                }
            } else {
                const el1 = document.querySelector(`[data-index="${first.index}"]`);
                const el2 = document.querySelector(`[data-index="${second.index}"]`);
                el1.classList.remove('flipped');
                el2.classList.remove('flipped');
                el1.textContent = '?';
                el2.textContent = '?';
            }
            
            flippedCards = [];
        }
        
        // Roulette Game
        function resetRouletteGame() {
            rouletteScore = 0;
            rouletteStreak = 0;
            document.getElementById('rouletteScore').textContent = '0';
            document.getElementById('rouletteStreak').textContent = '0';
            document.getElementById('rouletteResult').textContent = 'Dr√ºcke SPIN!';
            document.getElementById('rouletteOptions').style.display = 'none';
            document.getElementById('rouletteFeedback').style.display = 'none';
            document.getElementById('rouletteSpinBtn').style.display = 'inline-block';
        }
        
        function spinRoulette() {
            document.getElementById('rouletteSpinBtn').style.display = 'none';
            document.getElementById('rouletteFeedback').style.display = 'none';
            
            const wheel = document.getElementById('rouletteWheel');
            const spins = Math.floor(Math.random() * 5) + 10;
            wheel.style.transform = `rotate(${spins * 360}deg)`;
            
            setTimeout(() => {
                const pronouns = Object.keys(pronomenData);
                currentPronomen = pronouns[Math.floor(Math.random() * pronouns.length)];
                const kasus = ['nom', 'gen', 'dat', 'akk', 'lok', 'ins'];
                currentKasus = kasus[Math.floor(Math.random() * kasus.length)];
                
                const kasusNames = { nom: 'Nominativ', gen: 'Genitiv', dat: 'Dativ', akk: 'Akkusativ', lok: 'Lokativ', ins: 'Instrumental' };
                
                document.getElementById('rouletteResult').innerHTML = `
                    <strong>${currentPronomen.toUpperCase()}</strong> im <strong>${kasusNames[currentKasus]}</strong>?
                `;
                
                const correctAnswer = pronomenData[currentPronomen][currentKasus].form;
                const allForms = Object.keys(pronomenData[currentPronomen]).map(k => pronomenData[currentPronomen][k].form);
                const shuffled = [...new Set(allForms)].sort(() => Math.random() - 0.5).slice(0, 4);
                
                if (!shuffled.includes(correctAnswer)) {
                    shuffled[Math.floor(Math.random() * shuffled.length)] = correctAnswer;
                }
                
                document.getElementById('rouletteButtons').innerHTML = shuffled.map(answer => `
                    <button class="btn btn-small" style="background: #667eea; color: white;" onclick="checkRouletteAnswer('${answer}', '${correctAnswer}')">
                        ${answer}
                    </button>
                `).join('');
                
                document.getElementById('rouletteOptions').style.display = 'block';
            }, 2000);
        }
        
        function checkRouletteAnswer(answer, correct) {
            const feedbackDiv = document.getElementById('rouletteFeedback');
            const correctData = pronomenData[currentPronomen][currentKasus];
            
            // Disable buttons
            const buttons = document.querySelectorAll('#rouletteButtons button');
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === correct) {
                rouletteScore++;
                rouletteStreak++;
                document.getElementById('rouletteScore').textContent = rouletteScore;
                document.getElementById('rouletteStreak').textContent = rouletteStreak;
                
                feedbackDiv.className = 'feedback-box feedback-correct';
                feedbackDiv.innerHTML = `
                    ‚úÖ RICHTIG! +1 Punkt!<br>
                    <div class="example-sentence">${correctData.satz}</div>
                `;
            } else {
                rouletteStreak = 0;
                document.getElementById('rouletteStreak').textContent = '0';
                
                feedbackDiv.className = 'feedback-box feedback-wrong';
                feedbackDiv.innerHTML = `
                    ‚ùå FALSCH! Richtig ist: <strong>${correct}</strong><br>
                    <div class="example-sentence">${correctData.satz}</div>
                `;
            }
            
            feedbackDiv.style.display = 'block';
            document.getElementById('rouletteSpinBtn').style.display = 'inline-block';
        }
        
        // Horror Quiz
        function resetHorrorGame() {
            horrorScore = 0;
            horrorWrong = 0;
            horrorStreak = 0;
            document.getElementById('horrorScore').textContent = '0';
            document.getElementById('horrorWrong').textContent = '0';
            document.getElementById('horrorStreak').textContent = '0';
            document.getElementById('horrorFeedback').style.display = 'none';
            document.getElementById('horrorNextBtn').style.display = 'none';
            nextHorrorQuestion();
        }
        
        function nextHorrorQuestion() {
            currentHorrorQ = praepositionen[Math.floor(Math.random() * praepositionen.length)];
            
            document.getElementById('horrorQuestion').textContent = currentHorrorQ.prep;
            document.getElementById('horrorFeedback').style.display = 'none';
            document.getElementById('horrorNextBtn').style.display = 'none';
            
            const kasusOptions = ['Nominativ', 'Genitiv', 'Dativ', 'Akkusativ', 'Lokativ', 'Instrumental', 'Akkusativ/Lokativ'];
            const shuffled = kasusOptions.sort(() => Math.random() - 0.5).slice(0, 4);
            
            if (!shuffled.includes(currentHorrorQ.kasus)) {
                shuffled[Math.floor(Math.random() * 4)] = currentHorrorQ.kasus;
            }
            
            document.getElementById('horrorOptions').innerHTML = shuffled.map(kasus => `
                <button class="horror-btn" onclick="checkHorrorAnswer('${kasus}')">
                    ${kasus}
                </button>
            `).join('');
        }
        
        function checkHorrorAnswer(answer) {
            const buttons = document.querySelectorAll('.horror-btn');
            const feedbackDiv = document.getElementById('horrorFeedback');
            
            // Disable all buttons
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === currentHorrorQ.kasus) {
                horrorScore++;
                horrorStreak++;
                document.getElementById('horrorScore').textContent = horrorScore;
                document.getElementById('horrorStreak').textContent = horrorStreak;
                
                buttons.forEach(btn => {
                    if (btn.textContent.trim() === answer) {
                        btn.classList.add('correct');
                    }
                });
                
                feedbackDiv.className = 'feedback-box feedback-correct';
                feedbackDiv.innerHTML = `
                    ‚úÖ RICHTIG! üíÄ<br>
                    <strong>${currentHorrorQ.prep}</strong> ‚Üí ${currentHorrorQ.kasus}<br>
                    <div class="example-sentence">${currentHorrorQ.satz}</div>
                `;
            } else {
                horrorWrong++;
                horrorStreak = 0;
                document.getElementById('horrorWrong').textContent = horrorWrong;
                document.getElementById('horrorStreak').textContent = '0';
                
                buttons.forEach(btn => {
                    if (btn.textContent.trim() === answer) {
                        btn.classList.add('wrong');
                    }
                    if (btn.textContent.trim() === currentHorrorQ.kasus) {
                        btn.classList.add('correct');
                    }
                });
                
                feedbackDiv.className = 'feedback-box feedback-wrong';
                feedbackDiv.innerHTML = `
                    ‚ùå FALSCH! Richtig ist: <strong>${currentHorrorQ.kasus}</strong><br>
                    <strong>${currentHorrorQ.prep}</strong> ‚Üí ${currentHorrorQ.kasus}<br>
                    <div class="example-sentence">${currentHorrorQ.satz}</div>
                `;
            }
            
            feedbackDiv.style.display = 'block';
            document.getElementById('horrorNextBtn').style.display = 'inline-block';
        }
        
        // Slot Machine
        function resetSlotGame() {
            slotScore = 0;
            slotStreak = 0;
            document.getElementById('slotScore').textContent = '0';
            document.getElementById('slotStreak').textContent = '0';
            document.getElementById('slotResult').textContent = 'Dr√ºcke SPIN!';
            document.getElementById('slotOptions').style.display = 'none';
            document.getElementById('slotFeedback').style.display = 'none';
            document.getElementById('slotSpinBtn').style.display = 'inline-block';
        }
        
        function spinSlots() {
            document.getElementById('slotSpinBtn').style.display = 'none';
            document.getElementById('slotFeedback').style.display = 'none';
            
            const genus = ['Maskulin', 'Feminin', 'Neutrum'];
            const kasus = ['Nominativ', 'Genitiv', 'Akkusativ'];
            const zahl = ['Singular', 'Plural'];
            
            let spins = 20;
            const interval = setInterval(() => {
                document.getElementById('slot1').textContent = genus[Math.floor(Math.random() * genus.length)];
                document.getElementById('slot2').textContent = kasus[Math.floor(Math.random() * kasus.length)];
                document.getElementById('slot3').textContent = zahl[Math.floor(Math.random() * zahl.length)];
                
                spins--;
                if (spins <= 0) {
                    clearInterval(interval);
                    
                    const finalGenus = document.getElementById('slot1').textContent;
                    const finalKasus = document.getElementById('slot2').textContent;
                    const finalZahl = document.getElementById('slot3').textContent;
                    
                    currentSlotCombo = `${finalGenus}-${finalKasus}-${finalZahl}`;
                    const correctData = endungenData[currentSlotCombo] || { endung: '-?', beispiel: '???' };
                    
                    document.getElementById('slotResult').innerHTML = `
                        <strong>${finalGenus}</strong> + <strong>${finalKasus}</strong> + <strong>${finalZahl}</strong><br>
                        Welche Endung?
                    `;
                    
                    const allEndungen = Object.values(endungenData).map(d => d.endung);
                    const shuffled = [...new Set(allEndungen)].sort(() => Math.random() - 0.5).slice(0, 6);
                    
                    if (!shuffled.includes(correctData.endung)) {
                        shuffled[Math.floor(Math.random() * shuffled.length)] = correctData.endung;
                    }
                    
                    document.getElementById('slotButtons').innerHTML = shuffled.map(endung => `
                        <button class="btn btn-small" style="background: #667eea; color: white; font-size: 1.2em;" onclick="checkSlotAnswer('${endung}', '${correctData.endung}', '${correctData.beispiel}')">
                            ${endung}
                        </button>
                    `).join('');
                    
                    document.getElementById('slotOptions').style.display = 'block';
                }
            }, 100);
        }
        
        function checkSlotAnswer(answer, correct, beispiel) {
            const feedbackDiv = document.getElementById('slotFeedback');
            
            // Disable buttons
            const buttons = document.querySelectorAll('#slotButtons button');
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === correct) {
                slotScore++;
                slotStreak++;
                document.getElementById('slotScore').textContent = slotScore;
                document.getElementById('slotStreak').textContent = slotStreak;
                
                feedbackDiv.className = 'feedback-box feedback-correct';
                feedbackDiv.innerHTML = `
                    üé∞ JACKPOT! Richtig!<br>
                    <strong>${correct}</strong><br>
                    <div class="example-sentence">Beispiel: ${beispiel}</div>
                `;
            } else {
                slotStreak = 0;
                document.getElementById('slotStreak').textContent = '0';
                
                feedbackDiv.className = 'feedback-box feedback-wrong';
                feedbackDiv.innerHTML = `
                    ‚ùå Falsch! Richtig ist: <strong>${correct}</strong><br>
                    <div class="example-sentence">Beispiel: ${beispiel}</div>
                `;
            }
            
            feedbackDiv.style.display = 'block';
            document.getElementById('slotSpinBtn').style.display = 'inline-block';
        }
        
        // Adjektiv Inferno
        function resetAdjektivGame() {
            adjektivScore = 0;
            adjektivWrong = 0;
            adjektivStreak = 0;
            document.getElementById('adjektivScore').textContent = '0';
            document.getElementById('adjektivWrong').textContent = '0';
            document.getElementById('adjektivStreak').textContent = '0';
            document.getElementById('adjektivFeedback').style.display = 'none';
            document.getElementById('adjektivNextBtn').style.display = 'none';
            nextAdjektivQuestion();
        }
        
        function nextAdjektivQuestion() {
            const keys = Object.keys(adjektivEndungen);
            const randomKey = keys[Math.floor(Math.random() * keys.length)];
            currentAdjektivQ = { key: randomKey, data: adjektivEndungen[randomKey] };
            
            // Zeige die Frage
            const parts = randomKey.split('-');
            let questionText = '';
            
            if (parts[0] === 'Plural') {
                questionText = `${parts[0]} - ${parts[1]}`;
            } else if (parts.length === 4) {
                // z.B. Maskulin-Akkusativ-Singular-belebt
                questionText = `${parts[0]} - ${parts[1]} - ${parts[2]} (${parts[3]})`;
            } else {
                questionText = `${parts[0]} - ${parts[1]} - ${parts[2]}`;
            }
            
            document.getElementById('adjektivQuestion').textContent = questionText;
            document.getElementById('adjektivContext').innerHTML = `
                <strong>Beispiel:</strong> ${currentAdjektivQ.data.beispiel}<br>
                <em>${currentAdjektivQ.data.stamm}__?</em>
            `;
            
            document.getElementById('adjektivFeedback').style.display = 'none';
            document.getElementById('adjektivNextBtn').style.display = 'none';
            
            // Erstelle Antwort-Optionen
            const correctEndung = currentAdjektivQ.data.endung;
            
            // Sammle alle m√∂glichen Endungen f√ºr falsche Antworten
            const allEndungen = [...new Set(Object.values(adjektivEndungen).map(d => d.endung))];
            const wrongEndungen = allEndungen.filter(e => e !== correctEndung);
            
            // Nimm 3 zuf√§llige falsche Endungen
            const shuffledWrong = wrongEndungen.sort(() => Math.random() - 0.5).slice(0, 3);
            const options = [...shuffledWrong, correctEndung].sort(() => Math.random() - 0.5);
            
            document.getElementById('adjektivOptions').innerHTML = options.map(endung => `
                <button class="btn" style="background: white; color: #FF416C; border: 3px solid #FF416C; font-size: 1.2em; font-weight: bold;" onclick="checkAdjektivAnswer('${endung.replace(/'/g, "\\'")}')">
                    ${endung}
                </button>
            `).join('');
        }
        
        function checkAdjektivAnswer(answer) {
            const feedbackDiv = document.getElementById('adjektivFeedback');
            const correctEndung = currentAdjektivQ.data.endung;
            
            // Disable all buttons
            const buttons = document.querySelectorAll('#adjektivOptions button');
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === correctEndung) {
                adjektivScore++;
                adjektivStreak++;
                document.getElementById('adjektivScore').textContent = adjektivScore;
                document.getElementById('adjektivStreak').textContent = adjektivStreak;
                saveStatsForDashboard();
                // Highlight correct button
                buttons.forEach(btn => {
                    if (btn.textContent.trim() === answer) {
                        btn.style.background = '#43e97b';
                        btn.style.color = 'white';
                        btn.style.borderColor = '#43e97b';
                    }
                });
                
                feedbackDiv.className = 'feedback-box feedback-correct';
                feedbackDiv.innerHTML = `
                    üî• PERFEKT! Du beherrschst das Inferno! üî•<br>
                    <strong>${currentAdjektivQ.data.stamm}${correctEndung}</strong><br>
                    <div class="example-sentence">${currentAdjektivQ.data.satz}</div>
                    ${adjektivStreak >= 5 ? '<br>üî•üî•üî• STREAK: ' + adjektivStreak + ' üî•üî•üî•' : ''}
                `;
            } else {
                adjektivWrong++;
                adjektivStreak = 0;
                document.getElementById('adjektivWrong').textContent = adjektivWrong;
                document.getElementById('adjektivStreak').textContent = '0';
                
                // Highlight wrong and correct
                buttons.forEach(btn => {
                    if (btn.textContent.trim() === answer) {
                        btn.style.background = '#e74c3c';
                        btn.style.color = 'white';
                        btn.style.borderColor = '#e74c3c';
                    }
                    if (btn.textContent.trim() === correctEndung) {
                        btn.style.background = '#43e97b';
                        btn.style.color = 'white';
                        btn.style.borderColor = '#43e97b';
                    }
                });
                
                feedbackDiv.className = 'feedback-box feedback-wrong';
                feedbackDiv.innerHTML = `
                    üíÄ VERBRANNT! Richtig ist: <strong>${correctEndung}</strong><br>
                    <strong>${currentAdjektivQ.data.stamm}${correctEndung}</strong><br>
                    <div class="example-sentence">${currentAdjektivQ.data.satz}</div>
                `;
            }
            
            feedbackDiv.style.display = 'block';
            document.getElementById('adjektivNextBtn').style.display = 'inline-block';
        }
        
        // Achievement
        function showAchievement(text) {
            const achievement = document.getElementById('achievement');
            achievement.textContent = text;
            achievement.style.display = 'block';
            setTimeout(() => achievement.style.display = 'none', 3000);
        }
        
        // Init
        document.addEventListener('DOMContentLoaded', () => {
            showSection('situations');
            showSituation('postbote');
        });
        // STATS F√úR DASHBOARD SPEICHERN
function saveStatsForDashboard() {
    const today = new Date().toDateString();
    
    // Spiele heute speichern
    let gamesPlayed = JSON.parse(localStorage.getItem('kroatischGamesPlayedToday') || '{}');
    if (!gamesPlayed[today]) {
        gamesPlayed[today] = [];
    }
    // Aktuelles Spiel hinzuf√ºgen (wenn nicht schon drin)
    const currentGame = document.querySelector('h1').textContent;
    if (!gamesPlayed[today].includes(currentGame)) {
        gamesPlayed[today].push(currentGame);
    }
    localStorage.setItem('kroatischGamesPlayedToday', JSON.stringify(gamesPlayed));
    
    // Besten Streak updaten
    const currentStreak = parseInt(document.getElementById('currentStreak')?.textContent || '0');
    const bestStreak = parseInt(localStorage.getItem('kroatischBestStreak') || '0');
    if (currentStreak > bestStreak) {
        localStorage.setItem('kroatischBestStreak', currentStreak);
    }
}

// Nach jeder richtigen Antwort aufrufen
    </script>
</body>
</html>
